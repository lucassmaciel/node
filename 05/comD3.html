<html>
<head>
    <title>Abrindo CSV com D3</title>
    </head>
    <body>
        <form id="testForm">
            <input type="file" id="UploadFile" accept=".csv" />
            <br>
            <input type="submit" value="submit"/>
        </form>

        <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
        <script>
            const testForm = document.getElementById('testForm');
            const csvDataFile = document.getElementById('UploadFile');

            testForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const input = csvDataFile.files[0];
                const reader = new FileReader();

                reader.onload = function(e){
                    const text = e.target.result;
                    const csvData = d3.csvParse(text);
                    document.write(JSON.stringify(csvData));    

                }
                reader.readAsText(input);
            });
        </script>
    </body>
</html>